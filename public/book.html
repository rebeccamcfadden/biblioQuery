<!DOCTYPE html>
<html>

<head>
    <script
        type="text/javascript">!function (n, e) { var t, o, i, c = [], f = { passive: !0, capture: !0 }, r = new Date, a = "pointerup", u = "pointercancel"; function p(n, c) { t || (t = c, o = n, i = new Date, w(e), s()) } function s() { o >= 0 && o < i - r && (c.forEach(function (n) { n(o, t) }), c = []) } function l(t) { if (t.cancelable) { var o = (t.timeStamp > 1e12 ? new Date : performance.now()) - t.timeStamp; "pointerdown" == t.type ? function (t, o) { function i() { p(t, o), r() } function c() { r() } function r() { e(a, i, f), e(u, c, f) } n(a, i, f), n(u, c, f) }(o, t) : p(o, t) } } function w(n) { ["click", "mousedown", "keydown", "touchstart", "pointerdown"].forEach(function (e) { n(e, l, f) }) } w(n), self.perfMetrics = self.perfMetrics || {}, self.perfMetrics.onFirstInputDelay = function (n) { c.push(n), s() } }(addEventListener, removeEventListener);</script>
    <!-- update the version number as needed -->
    <script src="/__/firebase/7.13.1/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script src="/__/firebase/7.13.1/firebase-auth.js"></script>
    <script src="/__/firebase/7.13.1/firebase-database.js"></script>
    <script src="/__/firebase/7.13.1/firebase-messaging.js"></script>
    <script src="/__/firebase/7.13.1/firebase-storage.js"></script>
    <script src="/__/firebase/7.13.1/firebase-firestore.js"></script>
    <!-- initialize the SDK after all desired features are loaded-->
    <!-- <script defer src="/__/firebase/init.js"></script> -->
    <!-- Google Book API Stuff -->
    <script type="text/javascript" src="https://www.google.com/books/jsapi.js"></script>
    <!-- Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
        </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
        </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
        </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/css/dataTables.bootstrap4.min.css"
        rel="stylesheet" />
    <script src="https://kit.fontawesome.com/aa54ebdbfd.js" crossorigin="anonymous"></script>
    <script src="scripts/initFireBase-v1.js"></script>
    <script defer src="scripts/speechtotext-v1.js"></script>
    <script defer src="scripts/book-v1.js"></script>
    <script defer src="scripts/notifications-v1.js"></script>
    <script src="scripts/main-v1.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="manifest" href=" /manifest.json" />
    <link rel="stylesheet" href="style/main-v1.css">
    <link disabled id="dark-styles" rel="stylesheet" href="style/main-dark-v1.css">
    <script>
        if (localStorage.getItem("darkreader") == "enabled") {
            document.getElementById("dark-styles").disabled = false;
        } else {
            document.getElementById("dark-styles").disabled = true;
        }
    </script>
    <link rel=icon href=images/bookicon.png>
    <title id="pagetitle"></title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <a class="navbar-brand" href="index.html"><img src="images/bookicon.png"
                style="border-radius: 50%; height: 40px; margin-right: 8px;">biblioQuery</a>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-3 inline">
                <li class="nav-item">
                    <a class="btn btn-light nav-link" onclick="initPost();">Post a book</a>
                </li>
            </ul>
            <ul class="navbar-nav mr-3">
                <li class="nav-item">
                    <a class="btn btn-light nav-link" href="about.html">About Us</a>
                </li>
            </ul>
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="btn btn-light nav-link" href="help.html">How To</a>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="btn nav-item">
                    <button id="signInButton" class="btn btn-light"
                        style="padding-right: 20px; padding-left: 20px; padding-bottom: 0;" style="text-transform:none">
                        <div class="row">
                            <div class="span" id="user-info">
                                <div id="buttonText" style="float: left; text-align: center;">Login with Net ID</div>
                                <div id="imageDiv"
                                    style="float: right; margin-top: 0; margin-left: 8px; width: 30px; height: 30px">
                                    <img width="30px" height="30px"
                                        style="object-fit: cover; margin: 0; position: absolute; top: 50%; -ms-transform: translateY(-50%); transform: translateY(-50%);"
                                        src="https://brandguide.tamu.edu/assets/img/logos/tam-box-logo.png"
                                        id="logoimg" />
                                    <img width="30px" height="30px"
                                        style="object-fit: cover; border-radius: 50%; margin: 0; position: absolute; top: 50%; -ms-transform: translateY(-50%); transform: translateY(-50%);"
                                        id="profileimg" />
                                </div>
                            </div>
                        </div>
                    </button>
                </li>
            </ul>
            <ul class="navbar-nav">
                <div class="nav-item dropdown" id="profile-dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></a>
                    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#" id="signout" onclick="signOut();">Sign out</a>
                    </ul>
                </div>
            </ul>

        </div>
        <button class="btn btn-light chatbutton notification mx-3" id="chatbutton" hidden onclick="openChat();">
        </button>
        <ul class="navbar-nav mr-0">
            <li class="nav-item">
                <!-- Rounded switch -->
                <label class="switch checker my-auto mr-3" title="Toggle night mode" style="margin-right: 20px;">
                    <input id="night-toggle" type="checkbox" onchange="dark_toggle();">
                    <script>
                        if (localStorage.getItem("darkreader") == "enabled") {
                            document.getElementById("night-toggle").checked = true;
                        } else {
                            document.getElementById("night-toggle").checked = false;
                        }
                    </script>
                </label>
            </li>
        </ul>
        <label class="searcher my-auto mr-0" title="Toggle search bar" style="margin-right: 20px;">
            <input id="search-toggle" type="checkbox" onchange="searchToggle();">
        </label>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>


    </nav>
    <nav class="navbar navbar-light navbar-secondary" id="searchnav" hidden>
        <div class="row mx-auto">
            <div class="col-md-8 mr-auto">
                <form class="form-inline justify-content-center" action="results.html">
                    <div class=" searchbox form-group row text-center">
                        <select class="form-control" id="searchFrom">
                            <option>Books</option>
                            <option>Users</option>
                        </select>
                        <select class="form-control" id="searchtypes" name="search_type">
                            <option name="search_type" id="searchType0" value="keywords">Keywords</option>
                            <option name="search_type" id="searchType1" value="author">Author</option>
                            <option name="search_type" id="searchType2" value="title">Title</option>
                            <option name="search_type" id="searchType3" value="isbn">ISBN</option>
                            <option name="search_type" id="searchType4" value="classname">Class name</option>
                            <option name="search_type" id="searchType5" value="seller" hidden>seller</option>
                        </select>
                        <input class="form-control input-md" id="main-searchbar" type="text"
                            placeholder="Search by ISBN, title, or author" name="query_string" aria-label="Search"
                            style="width: 400px;">
                        <button class="btn searchbutton" id="main-searchbutton" type="submit"><i
                                class="fas fa-search"></i></button>
                        <input name="page" value="1" hidden>
                    </div>
                </form>
            </div>

            <div class="col-md-4 mr-auto">
                <div class="dictate_searchbar">
                    <img id="mic_book" onclick="dictate_searchbar_book()" src="images/mic.png" width="7.5%" height="62%"
                        style="margin-top: 1.7%; position: relative; right: 17.5%;">
                </div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container-center" style="width: 80%; margin-top: 40px;">
            
            <div class="modal fade fit-content" id="previewModal" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content fit-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <h3 id="errormsg"></h3>
                        <p id="altViewer" style="display:  none;">Link to alternate source: </p>
                        <!-- Book Preview here -->
                        <div id="viewerCanvas" style="width: 600px; height: 500px; "></div>
                    </div>

                </div>
            </div>
            <div class="modal fade" id="contactModal" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" style="margin-left: 0;">Contact Seller</h5>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <form action="#" onsubmit="return false;">
                                <input id="selleruid" hidden>
                                <input id="listing" hidden>
                                <p>Hi <a id="salename"></a>,</p>
                                <p style="margin-left: 20px;">I am interested in your sale
                                    of <a id="saletitle"></a> (<a id="saleisbn"></a>)
                                    for <a id="saleprice"></a>. If you could please contact
                                    me at <input id="salecontact" type="text">, I would
                                    appreciate it.</p>
                                <p style="margin-left: 20px;"> <textarea id="saleextra" cols="50" rows="5" type="text"
                                        placeholder="Extra information here"></textarea> </p>
                                <p>Thanks, </p>
                                <input id="salesign"></input>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" onclick="sendContactMessage();"
                                class="btn btn-outline-aggie">Submit</button>
                        </div>
                    </div>

                </div>
            </div>
            <div class="row">
                <div class="col-sm-3 float-right">
                    <img id="bookimg" alt="book image" style="width: 200px;  height: auto;">
                </div>
                <div class="col-md-9 text-left">
                    <h1 id="title"></h1>
                    <div class="row">
                        <h5 class="bookdata" id="author"></h5>
                        <h5 class="bookdata" id="publisher"></h5>
                    </div>
                    <div class="row">
                        <p class="bookdata mb-3" id="isbn"> </p>
                        <p class="bookdata mb-3" id="pubDate"> </p>
                        <p class="bookdata mb-3" id="edition"> </p>
                    </div>
                    <p id="description"> </p>
                </div>
            </div>
            <br>
            <div id="loader" class="center"></div>
            <table id="dtBasicExample" class="table table-striped table-bordered table-sm table-sortable"
                cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th class="th-sm">Seller
                        </th>
                        <th class="th-sm">Seller Rating
                        </th>
                        <th class="th-sm">Condition
                        </th>
                        <th class="th-sm">Image
                        </th>
                        <th class="th-sm">Price
                        </th>
                        <th class="th-sm">Link
                        </th>
                    </tr>
                </thead>
                <tbody id="pricetable">
                    <!-- Price data inserted here -->
                </tbody>
            </table>
        </div>
    </main>
</body>

</html>